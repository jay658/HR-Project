<div class="login-container">
    <mat-card>
      <mat-card-header>
        <mat-card-title>Login</mat-card-title>
      </mat-card-header>
  
      <mat-card-content>
        <div *ngIf="(authState$ | async)?.error as error" class="error-message">
          {{ error }}
        </div>
  
        <form (ngSubmit)="handleLogin()" #loginForm="ngForm">
          <mat-form-field appearance="outline">
            <mat-label>Username</mat-label>
            <input matInput
                   [(ngModel)]="username"
                   name="username"
                   required
                   [disabled]="(authState$ | async)?.loading">
          </mat-form-field>
  
          <mat-form-field appearance="outline">
            <mat-label>Password</mat-label>
            <input matInput
                   type="password"
                   [(ngModel)]="password"
                   name="password"
                   required
                   [disabled]="(authState$ | async)?.loading">
          </mat-form-field>
  
          <button mat-raised-button
                  color="primary"
                  type="submit"
                  [disabled]="(authState$ | async)?.loading">
            {{(authState$ | async)?.loading ? 'Logging in...' : 'Login'}}
          </button>
        </form>
      </mat-card-content>
    </mat-card>
  </div>